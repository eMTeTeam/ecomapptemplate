<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goback()">
        <ion-icon name="arrow-round-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="presentActionSheet()">
        <ion-icon name="md-contact" style="font-size:20px"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="text-center">
      Buy Orders
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen class="cart-basket">
  <div class="ion-padding">
    <ion-list>
      <ion-grid>
        <ion-row class="brd-btm">
          <ion-col size="1" class="ion-align-self-center">
            <label class="container">
              <input type="checkbox" [(ngModel)]="masterSelected" name="list_name" (change)="checkUncheckAll()" />
              <span class="checkmark"></span>
            </label>
          </ion-col>
          <ion-col size="11" class="text-center">
            <ion-button class="btn-primary" fill="clear" [disabled]="buyNowDisabled" (click)="checkouts()">BUY ALL
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
    <ion-list>
      <ion-grid *ngFor="let p of cart; let i = index" class="ion-text-wrap">
        <ion-row>
          <ion-card class="cb-card">
            <ion-card-content>
              <ion-row>
                <ion-col size="1">
                  <label class="container ml-5">
                    <input type="checkbox" [(ngModel)]="p.isSelected" name="list_name" value="{{p.productId}}"
                      (change)="isAllSelected()" ng-checked="true" />
                    <span class="checkmark"></span>
                  </label>
                </ion-col>
                <ion-col size="3">
                  <div class="ml-5">
                    <ion-thumbnail slot="start" style="height:75px;width:75px;">
                      <img src="../../assets/products/vegetables/{{p.productName}}.jpg" style="border-radius:50%;">
                    </ion-thumbnail>
                  </div>
                </ion-col>
                <ion-col size="8">
                  <ion-row style="height: 18px;">
                    <p class="prd-name">{{p.productName}}</p>
                    <div class="ion-text-end icon-delete" col-md-3 offset-md-3>
                      <ion-button fill="clear" (click)="removeCartItem(p)">
                        <ion-icon name="trash"></ion-icon>
                      </ion-button>
                    </div>
                  </ion-row>
                  <ion-row>
                    <p class="seller-name">Seller: Seller Name</p>
                  </ion-row>
                  <ion-row>
                    <ion-col size="4">
                      <p class="price"> ₹ {{ p.price}}</p>
                    </ion-col>
                    <ion-col size="6">
                      <div class="inc-dec">
                        <ion-button fill="clear" (click)="decreaseCartItem(p)">
                          <ion-icon name="md-remove" slot="icon-only"></ion-icon>
                        </ion-button>
                        <div class="cart-qty">{{ p.quantity }}</div>
                        <ion-button class="crt-inc" fill="clear" (click)="increaseCartItem(p)">
                          <ion-icon name="md-add" slot="icon-only"></ion-icon>
                        </ion-button>
                      </div>
                    </ion-col>
                    <ion-col size="2">
                      <p class="price"> KG</p>
                    </ion-col>
                  </ion-row>
                </ion-col>
              </ion-row>
            </ion-card-content>
          </ion-card>
        </ion-row>
      </ion-grid>
      <ion-grid>
        <ion-card class="cb-card">
          <ion-card-content>
            <ion-row class="summary-row">
              <ion-col size="8">
                Total Amount:
              </ion-col>
              <ion-col size="4" class="ion-text-start">
                <b>₹ {{ getTotal(total)}}</b>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
      </ion-grid>
    </ion-list>
    <ion-list>
      <ion-grid>
        <ion-row class="brd-top">
          <ion-col size="12" class="">
            <ion-button class="btn-primary" fill="clear" [disabled]="buyNowDisabled" (click)="checkouts()">BUY ALL
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
  </div>
  <ion-list>
    <ion-item class="disabled">
      <label>Delivery Address:</label>
      <ion-label>{{addressType}}</ion-label>
      <ion-checkbox class="address" slot="start" checked="true" [(ngModel)]="chkAddress" (ionChange)="checkEvent(list)"></ion-checkbox>
    </ion-item>
  </ion-list>
</ion-content>